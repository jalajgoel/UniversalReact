'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ulpoadImage = ulpoadImage;

var _configureStore = require('../redux/configureStore');

var _configureStore2 = _interopRequireDefault(_configureStore);

require('fetch-everywhere');

var _variables = require('../../variables');

var _variables2 = _interopRequireDefault(_variables);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function uploadSuccess(res) {
  return {
    type: UPLOAD,
    payload: res
  };
}

function ulpoadImage(path) {
  console.log('action', path);
  return (dispatch, state) => fetch(`${_variables2.default.url.liveURL}/api/profile`, {
    method: 'post',
    headers: {
      Accept: 'application/json , text/plain, */*',
      'Content-type': 'application/json'
    },
    body: JSON.stringify(path)
  }).then(res => res.json()).then(res => {
    console.log(res);
    if (typeof res === 'object') {
      return dispatch(uploadSuccess(res));
    }
  });
}