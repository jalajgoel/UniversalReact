{"version":3,"sources":["shared/actions/contentcard_action.js"],"names":["contentCardSuccess","contentCardError","getContentCard","getCategoryFilter_Data","getTypeFilter","CONTENT","ERROR","res","type","payload","err","message","likeFilter","trendFilter","pageno","url","liveURL","dispatch","state","fetch","method","then","json","content","catch","error","categoryFilter","data","filter","filtered_data"],"mappings":"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","file":"contentcard_action.js","sourceRoot":"/home/b-rave/Documents/jalaj/Frontend-Development","sourcesContent":["import 'fetch-everywhere';\nimport store from '../redux/configureStore';\nimport variables from '../../variables';\n\nexport const CONTENT = 'CONTENT';\nexport const ERROR = 'ERROR';\n\n// sending received response from backed to reducer\nexport function contentCardSuccess(res) {\n  return {\n    type: CONTENT,\n    payload: res,\n  };\n}\n\n// to hndle error\nexport function contentCardError(err) {\n  return {\n    type: ERROR,\n    message: err,\n  };\n}\n\n// sorting content cards acc to likes, trends\nexport function getContentCard(likeFilter, trendFilter, pageno) {\n  let url = '';\n  if (likeFilter == false && trendFilter == true) {\n    url = `${variables.url.liveURL}/api/articles/trending/`;\n  } else if (likeFilter == true && trendFilter == false) {\n    url = `${variables.url.liveURL}/api/articles/likes/`;\n  } else if (likeFilter == true && trendFilter == true) {\n    url = `${variables.url.liveURL}/api/articles/both/`;\n  } else {\n    url = `${variables.url.liveURL}/api/articles/latest/`;\n  }\n  return (dispatch, state) =>\n    fetch(url + pageno, {\n      method: 'get',\n    })\n      .then(res => res.json())\n      .then((res) => {\n        if (typeof res === 'object') {\n          const content = res.content;\n          return dispatch(contentCardSuccess(content));\n        }\n        return dispatch(contentCardError(res));\n      })\n      .catch(error => dispatch(contentCardError(error)));\n}\n\n// receiving content data for quickCategories from backend\nexport function getCategoryFilter_Data(categoryFilter) {\n  return (dispatch, state) =>\n    fetch(`${variables.url.liveURL}/api/${categoryFilter}/1`, {\n      method: 'get',\n    })\n      .then(res => res.json())\n      .then((res) => {\n        if (typeof res === 'object') {\n          const data = res.content;\n          return dispatch(contentCardSuccess(data));\n        }\n        return dispatch(contentCardError(res));\n      })\n      .catch(error => dispatch(contentCardError(error)));\n}\n\n// receiving content data for dropdown\nexport function getTypeFilter(filter, likeFilter, trendFilter) {\n  let url = '';\n  if (filter && likeFilter == false && trendFilter == true) {\n    url = `${variables.url.liveURL}/api/articles/trending/${filter}/`;\n  } else if (filter && likeFilter == true && trendFilter == false) {\n    url = `${variables.url.liveURL}/api/articles/likes/${filter}/`;\n  } else if (filter && likeFilter == true && trendFilter == true) {\n    url = `${variables.url.liveURL}/api/articles/both/${filter}/`;\n  } else {\n    url = `${variables.url.liveURL}/api/articles/latest/${filter}/`;\n  }\n  return (dispatch, state) =>\n    fetch(`${url}1`, {\n      method: 'get',\n    })\n      .then(res => res.json())\n      .then((res) => {\n        if (typeof res === 'object') {\n          const filtered_data = res.content;\n          return dispatch(contentCardSuccess(filtered_data));\n        }\n        return dispatch(contentCardError(res));\n      })\n      .catch(error => dispatch(contentCardError(error)));\n}\n"]}