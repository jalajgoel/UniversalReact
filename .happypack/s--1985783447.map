{"version":3,"sources":["config/utils/envVars.js"],"names":["string","number","bool","registerEnvFile","DEPLOYMENT","process","env","envFile","envFileResolutionOrder","resolve","get","envFilePath","find","filePath","existsSync","console","log","bgBlue","white","config","path","name","defaultVal","parseInt"],"mappings":";;;;;QA6DgBA,M,GAAAA,M;QAYAC,M,GAAAA,M;QAIAC,I,GAAAA,I;;AArEhB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAEA;;AAEA,SAASC,eAAT,GAA2B;AACzB,QAAMC,aAAaC,QAAQC,GAAR,CAAYF,UAA/B;AACA,QAAMG,UAAU,MAAhB;;AAEA;AACA;AACA,QAAMC,yBAAyB,yBAAU;AACvC;AACA;AACA;AACA,iBAAKC,OAAL,CAAa,qBAAWC,GAAX,EAAb,EAA+BH,OAA/B,CAJuC;AAKvC;AACA;AACA;AACA,wBAAOH,UAAP,EAAmB,eAAKK,OAAL,CAAa,qBAAWC,GAAX,EAAb,EAAgC,GAAEH,OAAQ,IAAGH,UAAW,EAAxD,CAAnB,CARuC,CAAV,CAA/B;;AAWA;AACA,QAAMO,cAAcH,uBAAuBI,IAAvB,CAA4BC,YAAY,aAAGC,UAAH,CAAcD,QAAd,CAAxC,CAApB;;AAEA;AACA,MAAIF,WAAJ,EAAiB;AACf;AACAI,YAAQC,GAAR,CAAY,eAAOC,MAAP,CAAcC,KAAd,CAAqB,+CAA8CP,WAAY,EAA/E,CAAZ;AACA,qBAAOQ,MAAP,CAAc,EAAEC,MAAMT,WAAR,EAAd;AACD;AACF;;AAED;AACA;AAhDA;;;;;;;;AAiDAR;;AAEA;;AAEA;;;;;;;;AAQO,SAASH,MAAT,CAAgBqB,IAAhB,EAAsBC,UAAtB,EAAkC;AACvC,SAAOjB,QAAQC,GAAR,CAAYe,IAAZ,KAAqBC,UAA5B;AACD;;AAED;;;;;;;;AAQO,SAASrB,MAAT,CAAgBoB,IAAhB,EAAsBC,UAAtB,EAAkC;AACvC,SAAOjB,QAAQC,GAAR,CAAYe,IAAZ,IAAoBE,SAASlB,QAAQC,GAAR,CAAYe,IAAZ,CAAT,EAA4B,EAA5B,CAApB,GAAsDC,UAA7D;AACD;;AAEM,SAASpB,IAAT,CAAcmB,IAAd,EAAoBC,UAApB,EAAgC;AACrC,SAAOjB,QAAQC,GAAR,CAAYe,IAAZ,IAAoBhB,QAAQC,GAAR,CAAYe,IAAZ,MAAsB,MAAtB,IAAgChB,QAAQC,GAAR,CAAYe,IAAZ,MAAsB,GAA1E,GAAgFC,UAAvF;AACD","file":"envVars.js","sourceRoot":"/home/b-rave/Documents/jalaj/Frontend-Development","sourcesContent":["/**\n * Helper for resolving environment specific configuration files.\n *\n * It resolves .env files that are supported by the `dotenv` library.\n *\n * Please read the application configuration docs for more info.\n */\n\nimport appRootDir from 'app-root-dir';\nimport colors from 'colors/safe';\nimport dotenv from 'dotenv';\nimport fs from 'fs';\nimport path from 'path';\n\nimport ifElse from '../../shared/utils/logic/ifElse';\nimport removeNil from '../../shared/utils/arrays/removeNil';\n\n// PRIVATES\n\nfunction registerEnvFile() {\n  const DEPLOYMENT = process.env.DEPLOYMENT;\n  const envFile = '.env';\n\n  // This is the order in which we will try to resolve an environment configuration\n  // file.\n  const envFileResolutionOrder = removeNil([\n    // Is there an environment config file at the app root?\n    // This always takes preference.\n    // e.g. /projects/react-universally/.env\n    path.resolve(appRootDir.get(), envFile),\n    // Is there an environment config file at the app root for our target\n    // environment name?\n    // e.g. /projects/react-universally/.env.staging\n    ifElse(DEPLOYMENT)(path.resolve(appRootDir.get(), `${envFile}.${DEPLOYMENT}`)),\n  ]);\n\n  // Find the first env file path match.\n  const envFilePath = envFileResolutionOrder.find(filePath => fs.existsSync(filePath));\n\n  // If we found an env file match the register it.\n  if (envFilePath) {\n    // eslint-disable-next-line no-console\n    console.log(colors.bgBlue.white(`==> Registering environment variables from: ${envFilePath}`));\n    dotenv.config({ path: envFilePath });\n  }\n}\n\n// Ensure that we first register any environment variables from an existing\n// env file.\nregisterEnvFile();\n\n// EXPORTED HELPERS\n\n/**\n * Gets a string environment variable by the given name.\n *\n * @param  {String} name - The name of the environment variable.\n * @param  {String} defaultVal - The default value to use.\n *\n * @return {String} The value.\n */\nexport function string(name, defaultVal) {\n  return process.env[name] || defaultVal;\n}\n\n/**\n * Gets a number environment variable by the given name.\n *\n * @param  {String} name - The name of the environment variable.\n * @param  {number} defaultVal - The default value to use.\n *\n * @return {number} The value.\n */\nexport function number(name, defaultVal) {\n  return process.env[name] ? parseInt(process.env[name], 10) : defaultVal;\n}\n\nexport function bool(name, defaultVal) {\n  return process.env[name] ? process.env[name] === 'true' || process.env[name] === '1' : defaultVal;\n}\n"]}